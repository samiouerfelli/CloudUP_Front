{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(authService, router, tokenService) {\n    this.authService = authService;\n    this.router = router;\n    this.tokenService = tokenService;\n    this.authRequest = {\n      email: '',\n      motDePasse: ''\n    };\n    this.errorMsg = [];\n  }\n  // tslint:disable-next-line:typedef\n  login() {\n    this.errorMsg = [];\n    this.authService.authenticate({\n      body: this.authRequest\n    }).subscribe({\n      next: res => {\n        // this.tokenService.token = res.token as string;\n        this.router.navigate(['books']);\n      },\n      error: err => {\n        console.log(err);\n        if (err.error.validationErrors) {\n          this.errorMsg = err.error.validationErrors;\n        } else {\n          this.errorMsg.push(err.error.error);\n        }\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAGzBC,YAAoBC,WAAoC,EACpCC,MAAc,EACdC,YAAmB;IAFnB,gBAAW,GAAXF,WAAW;IACX,WAAM,GAANC,MAAM;IACN,iBAAY,GAAZC,YAAY;IAJhC,gBAAW,GAA4B;MAACC,KAAK,EAAE,EAAE;MAAEC,UAAU,EAAE;IAAE,CAAC;IAClE,aAAQ,GAAkB,EAAE;EAIxB;EACJ;EACAC,KAAK;IACH,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACN,WAAW,CAACO,YAAY,CAAC;MAC5BC,IAAI,EAAE,IAAI,CAACC;KACZ,CAAC,CAACC,SAAS,CAAC;MACXC,IAAI,EAAGC,GAAG,IAAI;QACb;QACC,IAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;MACjC,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAIA,GAAG,CAACD,KAAK,CAACI,gBAAgB,EAAE;UAC9B,IAAI,CAACZ,QAAQ,GAAGS,GAAG,CAACD,KAAK,CAACI,gBAAgB;SAC3C,MAAM;UACL,IAAI,CAACZ,QAAQ,CAACa,IAAI,CAACJ,GAAG,CAACD,KAAK,CAACA,KAAK,CAAC;;MAEvC;KACD,CAAC;EACJ;CACD;AA3BYhB,cAAc,eAL1BD,SAAS,CAAC;EACTuB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWxB,cAAc,CA2B1B;SA3BYA,cAAc","names":["Component","LoginComponent","constructor","authService","router","tokenService","email","motDePasse","login","errorMsg","authenticate","body","authRequest","subscribe","next","res","navigate","error","err","console","log","validationErrors","push","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\yaasm\\IdeaProjects\\CloudUP_FrontTestYassmine\\src\\app\\all-modules\\pages\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {AuthentificationRequest} from '../../../services/models/authentification-request';\r\nimport {AuthentificationService} from '../../../services/services/authentification.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  authRequest: AuthentificationRequest = {email: '', motDePasse: ''};\r\n  errorMsg: Array<string> = [];\r\n  constructor(private authService: AuthentificationService,\r\n              private router: Router,\r\n              private tokenService: token\r\n  ) { }\r\n  // tslint:disable-next-line:typedef\r\n  login() {\r\n    this.errorMsg = [];\r\n    this.authService.authenticate({\r\n      body: this.authRequest\r\n    }).subscribe({\r\n      next: (res) => {\r\n       // this.tokenService.token = res.token as string;\r\n        this.router.navigate(['books']);\r\n      },\r\n      error: (err) => {\r\n        console.log(err);\r\n        if (err.error.validationErrors) {\r\n          this.errorMsg = err.error.validationErrors;\r\n        } else {\r\n          this.errorMsg.push(err.error.error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}