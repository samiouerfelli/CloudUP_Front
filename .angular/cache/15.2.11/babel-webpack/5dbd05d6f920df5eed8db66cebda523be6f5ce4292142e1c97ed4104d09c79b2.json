{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/services/authentification.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../services/token/token.service\";\nfunction RegisterComponent_div_4_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(msg_r2);\n  }\n}\nfunction RegisterComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtemplate(1, RegisterComponent_div_4_p_1_Template, 2, 1, \"p\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.errorMsg);\n  }\n}\nexport class RegisterComponent {\n  constructor(authService, router, tokenService) {\n    this.authService = authService;\n    this.router = router;\n    this.tokenService = tokenService;\n    this.hide = true;\n    this.registerRequest = {\n      email: '',\n      motDePasse: '',\n      nom: '',\n      phoneNumber: '',\n      prenom: '',\n      roles: 'Student'\n    };\n    this.errorMsg = [];\n  }\n  // tslint:disable-next-line:typedef\n  register() {\n    this.errorMsg = [];\n    this.authService.register({\n      body: this.registerRequest\n    }).subscribe({\n      next: () => {\n        this.router.navigate(['activate-account']);\n      },\n      error: err => {\n        this.errorMsg = err.error.validationErrors;\n      }\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthentificationService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.TokenService));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 47,\n  vars: 9,\n  consts: [[1, \"content\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-8\", \"offset-md-2\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"mb-3\"], [\"for\", \"firstname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstname\", \"placeholder\", \"Firstname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastname\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastname\", \"placeholder\", \"Lastname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"phoneNumber\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"phoneNumber\", \"placeholder\", \"+216xxxxxxxx\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"login\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"login\", \"placeholder\", \"name@esprit.tn\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"password\", 1, \"form-label\"], [1, \"input-group\"], [\"id\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"type\", \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [1, \"input-group-text\", 3, \"click\"], [1, \"text-right\"], [\"routerLink\", \"/pages/login\", 1, \"forgot-link\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"btn-lg\", \"login-btn\", 3, \"click\"], [1, \"login-or\"], [1, \"or-line\"], [1, \"span-or\"], [1, \"row\", \"form-row\", \"social-login\"], [1, \"col-6\"], [\"href\", \"#\", 1, \"btn\", \"btn-facebook\", \"btn-block\"], [1, \"fab\", \"fa-facebook-f\", \"mr-1\"], [\"href\", \"#\", 1, \"btn\", \"btn-google\", \"btn-block\"], [1, \"fab\", \"fa-google\", \"mr-1\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtemplate(4, RegisterComponent_div_4_Template, 2, 1, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"label\", 6);\n      i0.ɵɵtext(7, \"Firstname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.registerRequest.nom = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Lastname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.registerRequest.prenom = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Phone number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.registerRequest.phoneNumber = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 5)(18, \"label\", 12);\n      i0.ɵɵtext(19, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.registerRequest.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 14)(22, \"label\", 15);\n      i0.ɵɵtext(23, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 16)(25, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_25_listener($event) {\n        return ctx.registerRequest.motDePasse = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 18)(27, \"span\", 19);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_span_click_27_listener() {\n        return ctx.hide = !ctx.hide;\n      });\n      i0.ɵɵelement(28, \"i\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(29, \"div\", 20)(30, \"a\", 21);\n      i0.ɵɵtext(31, \"Already have an account?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_32_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵtext(33, \"Signup\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 23);\n      i0.ɵɵelement(35, \"span\", 24);\n      i0.ɵɵelementStart(36, \"span\", 25);\n      i0.ɵɵtext(37, \"or\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 26)(39, \"div\", 27)(40, \"a\", 28);\n      i0.ɵɵelement(41, \"i\", 29);\n      i0.ɵɵtext(42, \" Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"div\", 27)(44, \"a\", 30);\n      i0.ɵɵelement(45, \"i\", 31);\n      i0.ɵɵtext(46, \" Login\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMsg.length);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.nom);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.prenom);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.phoneNumber);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.registerRequest.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"type\", ctx.hide ? \"password\" : \"text\")(\"ngModel\", ctx.registerRequest.motDePasse);\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassMap(ctx.hide ? \"far fa-eye\" : \"far fa-eye-slash\");\n    }\n  },\n  styles: [\".input-group-text[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWxsLW1vZHVsZXMvcGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvRkFBb0Y7QUFDcEY7RUFDRSxhQUFhO0VBQ2IsbUJBQW1COztBQUVyQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIE9wdGlvbmFsOiBBZGp1c3QgdGhlIGFsaWdubWVudCBvZiB0aGUgY2hlY2tib3ggaWYgaXQgaXMgbm90IHZlcnRpY2FsbHkgY2VudGVyZWQgKi9cclxuLmlucHV0LWdyb3VwLXRleHQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAQgBA,yBAAgC;IAAAA,YAAO;IAAAA,iBAAI;;;;IAAXA,eAAO;IAAPA,4BAAO;;;;;IADzCA,+BAAqE;IACnEA,qEAA2C;IAC7CA,iBAAM;;;;IADeA,eAAW;IAAXA,yCAAW;;;ACG9C,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,WAAoC,EACpCC,MAAc,EACdC,YAA0B;IAF1B,gBAAW,GAAXF,WAAW;IACX,WAAM,GAANC,MAAM;IACN,iBAAY,GAAZC,YAAY;IANhC,SAAI,GAAG,IAAI;IAEX,oBAAe,GAAwB;MAACC,KAAK,EAAE,EAAE;MAAEC,UAAU,EAAE,EAAE;MAAEC,GAAG,EAAE,EAAE;MAAGC,WAAW,EAAE,EAAE;MAAGC,MAAM,EAAE,EAAE;MAAGC,KAAK,EAAE;IAAS,CAAC;IAC7H,aAAQ,GAAkB,EAAE;EAIxB;EAGJ;EACCC,QAAQ;IACP,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACV,WAAW,CAACS,QAAQ,CAAC;MACxBE,IAAI,EAAE,IAAI,CAACC;KACZ,CAAC,CACCC,SAAS,CAAC;MACTC,IAAI,EAAE,MAAK;QACT,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;MAC5C,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACP,QAAQ,GAAGO,GAAG,CAACD,KAAK,CAACE,gBAAgB;MAC5C;KACD,CAAC;EACN;;;mBA1BWpB,iBAAiB;AAAA;;QAAjBA,iBAAiB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV9B1B,8BAAqB;MAMPA,kEAEM;MACNA,8BAAkB;MAC0BA,yBAAS;MAAAA,iBAAQ;MAC3DA,gCAAiH;MAA1GA;QAAA;MAAA,EAAiC;MAAxCA,iBAAiH;MAEnHA,8BAAkB;MACyBA,yBAAQ;MAAAA,iBAAQ;MACzDA,iCAAkH;MAA3GA;QAAA;MAAA,EAAoC;MAA3CA,iBAAkH;MAEpHA,+BAAkB;MAC4BA,6BAAY;MAAAA,iBAAQ;MAChEA,kCAA8H;MAAvHA;QAAA;MAAA,EAAyC;MAAhDA,iBAA8H;MAEhIA,+BAAkB;MACsBA,8BAAa;MAAAA,iBAAQ;MAC3DA,kCAAqH;MAA9GA;QAAA;MAAA,EAAmC;MAA1CA,iBAAqH;MAEvHA,gCAA6B;MACcA,yBAAQ;MAAAA,iBAAQ;MACzDA,gCAAyB;MACuDA;QAAA;MAAA,EAAwC;MAAtHA,iBAA8I;MAC9IA,gCAAgC;MACbA;QAAA;MAAA,EAAsB;MACnDA,qBAA0D;MAC5DA,iBAAO;MAKCA,gCAAwB;MAC+CA,yCAAwB;MAAAA,iBAAI;MAEjFA,mCAA8F;MAAtFA;QAAA,OAAS2B,cAAU;MAAA,EAAC;MAAkE3B,uBAAM;MAAAA,iBAAS;MAC7GA,gCAAsB;MAClBA,4BAA6B;MAC7BA,iCAAsB;MAAAA,mBAAE;MAAAA,iBAAO;MAEnCA,gCAAuC;MAEgBA,yBAAsC;MAACA,uBAAK;MAAAA,iBAAI;MAEnGA,gCAAmB;MAC8BA,yBAAkC;MAACA,uBAAK;MAAAA,iBAAI;;;MA5CrEA,eAAqB;MAArBA,0CAAqB;MAK1DA,eAAiC;MAAjCA,iDAAiC;MAIjCA,eAAoC;MAApCA,oDAAoC;MAIpCA,eAAyC;MAAzCA,yDAAyC;MAIzCA,eAAmC;MAAnCA,mDAAmC;MAKjCA,eAAmC;MAAnCA,qDAAmC;MAGjDA,eAAkD;MAAlDA,2DAAkD","names":["i0","RegisterComponent","constructor","authService","router","tokenService","email","motDePasse","nom","phoneNumber","prenom","roles","register","errorMsg","body","registerRequest","subscribe","next","navigate","error","err","validationErrors","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\yaasm\\IdeaProjects\\CloudUP_FrontTestYassmine\\src\\app\\all-modules\\pages\\register\\register.component.html","C:\\Users\\yaasm\\IdeaProjects\\CloudUP_FrontTestYassmine\\src\\app\\all-modules\\pages\\register\\register.component.ts"],"sourcesContent":["<!-- Page Content -->\r\n<div class=\"content\">\r\n    <div class=\"container\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-8 offset-md-2\">\r\n\r\n              <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"errorMsg.length\">\r\n                <p *ngFor=\"let msg of errorMsg\">{{msg}}</p>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"firstname\" class=\"form-label\">Firstname</label>\r\n                <input [(ngModel)]=\"registerRequest.nom\" type=\"text\" class=\"form-control\" id=\"firstname\" placeholder=\"Firstname\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"lastname\" class=\"form-label\">Lastname</label>\r\n                <input [(ngModel)]=\"registerRequest.prenom\" type=\"text\" class=\"form-control\" id=\"lastname\" placeholder=\"Lastname\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"phoneNumber\" class=\"form-label\">Phone number</label>\r\n                <input [(ngModel)]=\"registerRequest.phoneNumber\" type=\"text\" class=\"form-control\" id=\"phoneNumber\" placeholder=\"+216xxxxxxxx\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"login\" class=\"form-label\">Email address</label>\r\n                <input [(ngModel)]=\"registerRequest.email\" type=\"email\" class=\"form-control\" id=\"login\" placeholder=\"name@esprit.tn\">\r\n              </div>\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"password\" class=\"form-label\">Password</label>\r\n                <div class=\"input-group\">\r\n                  <input [type]=\"hide ? 'password' : 'text'\" class=\"form-control\" id=\"password\" [(ngModel)]=\"registerRequest.motDePasse\" placeholder=\"Password\">\r\n                  <div class=\"input-group-append\">\r\n      <span class=\"input-group-text\" (click)=\"hide = !hide\">\r\n        <i [class]=\"hide ? 'far fa-eye' : 'far fa-eye-slash'\"></i>\r\n      </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"text-right\">\r\n                                    <a class=\"forgot-link\" routerLink='/pages/login'>Already have an account?</a>\r\n                                </div>\r\n                                <button (click)=\"register()\" class=\"btn btn-primary btn-block btn-lg login-btn\" type=\"submit\">Signup</button>\r\n                                <div class=\"login-or\">\r\n                                    <span class=\"or-line\"></span>\r\n                                    <span class=\"span-or\">or</span>\r\n                                </div>\r\n                                <div class=\"row form-row social-login\">\r\n                                    <div class=\"col-6\">\r\n                                        <a href=\"#\" class=\"btn btn-facebook btn-block\"><i class=\"fab fa-facebook-f mr-1\"></i> Login</a>\r\n                                    </div>\r\n                                    <div class=\"col-6\">\r\n                                        <a href=\"#\" class=\"btn btn-google btn-block\"><i class=\"fab fa-google mr-1\"></i> Login</a>\r\n                                    </div>\r\n                                </div>\r\n                            <!-- /Register Form -->\r\n\r\n                    </div>\r\n                </div>\r\n                <!-- /Register Content -->\r\n\r\n            </div>\r\n        </div>\r\n\r\n","import { Component } from '@angular/core';\r\nimport {RegistrationRequest} from '../../../services/models/registration-request';\r\nimport {AuthentificationService} from '../../../services/services/authentification.service';\r\nimport {Router} from '@angular/router';\r\nimport {TokenService} from '../../../services/token/token.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent   {\r\n\r\n  hide = true;\r\n\r\n  registerRequest: RegistrationRequest = {email: '', motDePasse: '', nom: '' , phoneNumber: '' , prenom: '' , roles: 'Student'};\r\n  errorMsg: Array<string> = [];\r\n  constructor(private authService: AuthentificationService,\r\n              private router: Router,\r\n              private tokenService: TokenService\r\n  ) { }\r\n\r\n\r\n  // tslint:disable-next-line:typedef\r\n   register() {\r\n    this.errorMsg = [];\r\n    this.authService.register({\r\n      body: this.registerRequest\r\n    })\r\n      .subscribe({\r\n        next: () => {\r\n          this.router.navigate(['activate-account']);\r\n        },\r\n        error: (err) => {\r\n          this.errorMsg = err.error.validationErrors;\r\n        }\r\n      });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}